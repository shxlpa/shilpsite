<!DOCTYPE html>

<html lang="en-us"
  dir="ltr">

  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width"><meta name="description" content="" />

<title>
    
    Building This Website | SHXLPA
    
</title>




<link rel="stylesheet" href="/assets/combined.min.216337488c08235d8da2a239447b59a9e2b0004442c7e3aea27abb5cbd7808ab.css" media="all">

<link rel="stylesheet" href="http://localhost:1313/css/custom.min.ebf4c26ef8f05106e99ee8cd24229b4c3bcf21a3dbdcecbf36254145e00c1ad7.css">




    


<link rel="stylesheet" href="/assets/combined.min.216337488c08235d8da2a239447b59a9e2b0004442c7e3aea27abb5cbd7808ab.css" media="all">

<link rel="stylesheet" href="http://localhost:1313/css/custom.min.ebf4c26ef8f05106e99ee8cd24229b4c3bcf21a3dbdcecbf36254145e00c1ad7.css">

  </head>

  

  
  
  

  <body class="auto">

    <div class="content">
      <header>
        

<div class="header">
    <h1 class="header-title">SHXLPA</h1>

    <div class="flex">
        

        
        
        <p class="small ">
            <a href="/">
                /Home
            </a>
        </p>
        
        <p class="small ">
            <a href="/posts">
                /Projects
            </a>
        </p>
        
        <p class="small ">
            <a href="/about">
                /Contact
            </a>
        </p>
        
        
    </div>

</div>
      </header>

      <main class="main">
        




<div class="breadcrumbs">
    
    <a href="/">Home</a>
    <span class="breadcrumbs-separator"> > </span>
    
    <a href="/posts/">Posts</a>
    <span class="breadcrumbs-separator"> > </span>
    
    <a class="breadcrumbs-current" href="/posts/cuttingboards/">Building This Website</a>
</div>


<div >

  <div class="single-intro-container">

    

    <h1 class="single-title">Building This Website</h1>
    

    

    <p class="single-readtime">
      
      
      
      <time datetime="2024-05-27T16:58:11-07:00">May 27, 2024</time>
      

      
    </p>

  </div>

  

  

  

  

  <div class="single-content">
    <h2 id="an-experiment-in-web-dev-hugo--vercel">An experiment in web dev: hugo + vercel</h2>
<p>I coded up my own site - here&rsquo;s how and why.</p>
<p>I wanted a newsletter dedicated to my projects so I could keep my professional network updated on my latest activities. Given this, I could only see it happening if my newsletter was something I could own. I&rsquo;ve used Wordpress and Weebly for a long time, but have gradually witnessed more and more features put behind a paywall. Substack is new-ish (not guaranteed to last), Squarespace makes you pay for everything, and my Twitter account keeps getting spammed by bots. I was left a little lost&hellip; where on earth should I host my stuff?</p>
<p>I&rsquo;m approaching this from the decades long timeline. I want this to be one of those kinda crappy outdated sites you can encounter 10 years later, where you&rsquo;re surprised it&rsquo;s still up, but it hasn&rsquo;t crashed yet.</p>
<p>It made the most sense to download a framework, host my site locally, and depend on a few highly niche services that I&rsquo;m confident I can replace if they go down (in this case, Github and Vercel - and Github isn&rsquo;t even necessary). Here&rsquo;s how I did it.</p>
<figure><img src="/posts/cuttingboards/images/hugo.jpg">
</figure>

<p>I used Hugo, a HTML/CSS framework, to host my site. Hugo essentially delivers a wrapper over HTML and CSS and creates a pipeline between Markdown files (the bane of the content on a Hugo site) and the actual HTML/CSS encoding. I&rsquo;ll never have to touch the root code if I don&rsquo;t want to, but it&rsquo;s all mine to change if I desire.</p>
<p>This site is based on the <a href="https://github.com/tomfran/typo?tab=readme-ov-file">typo</a> theme. After following the Hugo <a href="https://gohugo.io/getting-started/quick-start/">quickstart</a> guide and adapting it for the <a href="https://github.com/tomfran/typo?tab=readme-ov-file#1-setup">specific setup instructions</a> provided in Typo&rsquo;s Github Repository, I had a locally hosted website.
I learned that Hugo has markdown <a href="https://gohugo.io/content-management/shortcodes/">shortcodes</a> that you can use to embed Youtube videos, images and more. The ease of this is crazy, because on some website providers these services are paywalled. I was surprised at how easy it actually is: Youtube&rsquo;s API is probably free for anyone to use, and here Hugo is making the code for that super easy while everyone else makes that a &ldquo;premium service&rdquo;. Doing things yourself is so fun!</p>
<pre><code>brew install hugo
hugo new site quickstart
cd quickstart
git init
git submodule add --depth=1 https://github.com/tomfran/typo.git themes/typo
git submodule update --init --recursive
echo &quot;theme = 'typo'&quot; &gt;&gt; hugo.toml
hugo server
</code></pre>
<figure><img src="/posts/cuttingboards/images/vercel.jpg">
</figure>

<p>Hugo creates a &ldquo;quickstart&rdquo; folder enclosing the contents of your website. After converting this folder to a <a href="https://github.com/shxlpa/shilpsite">Github repo</a>, then trying and failing to turn it into a Github pages site, I gave up and looked into Vercel (way faster, can&rsquo;t recommend enough). All I had to do was install the Vercel CLI, run one command, then follow the resulting prompts:</p>
<pre><code>sudo npm install -g vercel
vercel
</code></pre>
<figure><img src="/posts/cuttingboards/images/vercelcode.jpg">
</figure>

<p>I now have a shiny new website in my hands. This thing is <em>clean</em>. There&rsquo;s a lot of aesthetic work to be done, and I still have to build in subscription functionality so that I can email my network every time I post. Luckily there are free APIs for that :)</p>
<h3 id="how-to-change-hugo-theme-colors">How to change Hugo theme colors</h3>
<p>After poking around, I found that the themes/typo folder rules all.
The background color can be changed inside <a href="https://github.com/tomfran/typo/blob/41599aedee2b257fe546e5f066aa3370116f028c/assets/css/vars.css">/quickstart/themes/typo/assets/css/vars.css</a>.
The font colors themselves I coded into a custom.css file, which I then referenced in the doctype body of baseof.html.
At the bottom of baseof.html, there are several functions that allow you to set two different themes for dark and light mode and toggle between them.</p>
<p>custom.css:</p>
<pre><code>:root { /* light mode */

--primary: rgb(36, 59, 95); /* so far only text is changing color */
--secondary: rgb(36, 59, 95);
--tertiary: rgb(36, 59, 95);
--content: rgb(36, 59, 95); /* ^^ */
}

/* Define CSS variables for dark mode */
.dark {
    --primary: rgba(246, 242, 220); /* Brighter muted yellow for primary text in dark mode */
    --content: rgba(246, 242, 220); /* Brighter muted yellow for general content text in dark mode */
}
</code></pre>
<p>baseof.html:</p>
<pre><code> &lt;head&gt;
    {{ partial &quot;head.html&quot; . }}

    {{ partial &quot;head/css.html&quot; . }}
&lt;/head&gt;

... stuff* ...


function isAuto() {
    return document.body.classList.contains(&quot;auto&quot;);
}

function setTheme() {
    ... stuff* ...
}

function invertBody() {
    document.body.classList.toggle(&quot;dark&quot;);
    document.body.classList.toggle(&quot;light&quot;);
}

if (isAuto()) {
    window.matchMedia('(prefers-color-scheme: dark)').addListener(invertBody);
}

setTheme();
</code></pre>
<p>The footer was editing by looking into /quickstart/themes/typo/layouts/partials/footer.html.</p>
<p>*baseof.html: <a href="https://github.com/tomfran/typo/blob/41599aedee2b257fe546e5f066aa3370116f028c/layouts/_default/baseof.html">github</a></p>

    
  </div>

  
  <div class="back-to-top">
    <a href="#top">
      back to top
    </a>
  </div>
  

</div>


      </main>
    </div>

    <footer>
      <p> scribbling in the margins
</p>


    </footer>

  </body>

  <script>

  function isAuto() {
    return document.body.classList.contains("auto");
  }

  function setTheme() {
    if (!isAuto()) {
      return
    }

    document.body.classList.remove("auto");
    let cls = "light";
    if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
      cls = "dark";
    }

    document.body.classList.add(cls);
  }

  function invertBody() {
    document.body.classList.toggle("dark");
    document.body.classList.toggle("light");
  }

  if (isAuto()) {
    window.matchMedia('(prefers-color-scheme: dark)').addListener(invertBody);
  }

  setTheme(); 

</script>

</html>